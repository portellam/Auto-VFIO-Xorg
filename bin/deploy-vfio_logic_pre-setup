#!/bin/false

#
# Filename:       deploy-vfio_logic_pre-setup
# Description:    Recommended pre-installation setups.
# Author(s):      Alex Portell <github.com/portellam>
# Maintainer(s):  Alex Portell <github.com/portellam>
#

# <sets>
  set -o nounset
  set -o pipefail
# </sets>

# <sources>
  source deploy-vfio_logic_common
# </sources>

# <functions>
  function declare_parameters
  {
    if [[ "${PRE_SETUP_ARE_PARAMS_SET}" == true ]]; then
      return 0
    fi

    declare -g PRE_SETUP_ARE_PARAMS_SET=true

    declare -g PRE_SETUP_ASK_TO_EXECUTE_ALL=true
    declare -g PRE_SETUP_DO_EXECUTE_EVDEV=false
    declare -g PRE_SETUP_DO_EXECUTE_HUGEPAGES=false
    declare -g PRE_SETUP_DO_EXECUTE_ISOLCPU=false
    declare -g PRE_SETUP_DO_SKIP_ALL=false
  }

  function do_pre_setup
  {
    echo "in pre setup now"
    return 0
  }

  function get_kernel_command_hugepages
  {
    if [[ -z "${1}" ]]; then
      return 1
    fi

    local -n reference="${1}"
    reference="${GRUB_CMDLINE_HUGEPAGES}"
  }

  function get_kernel_command_isolcpu
  {
    if [[ -z "${1}" ]]; then
      return 1
    fi

    local -n reference="${1}"
    reference="${GRUB_CMDLINE_ISOLCPU}"
  }
# </functions>

# <code>
  declare_parameters
  unset declare_parameters
# </code