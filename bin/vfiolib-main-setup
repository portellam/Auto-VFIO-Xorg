#!/bin/false

#
# Filename:       vfiolib-main-setup
# Description:    Parse and select IOMMU groups, and select VFIO setup.
# Author(s):      Alex Portell <github.com/portellam>
# Maintainer(s):  Alex Portell <github.com/portellam>
#

# <sources>
  source vfiolib-common
# </sources>

# <functions>
  function DeclareParameters
  {
    if [[ "${MAIN_SETUP_ARE_PARAMS_SET}" == true ]]; then
      return 0
    fi

    declare -g MAIN_SETUP_ARE_PARAMS_SET=true

    declare -g MAIN_SETUP_ASK_TO_EXECUTE_ALL=true
    declare -g MAIN_SETUP_DATABASE_FILE=""
    declare -g MAIN_SETUP_DO_EXECUTE_MULTIBOOT=false
    declare -g MAIN_SETUP_DO_EXECUTE_STATIC=false
    declare -g MAIN_SETUP_DO_EXECUTE_STATIC_WITH_GRUB=false
    declare -g MAIN_SETUP_DO_EXECUTE_STATIC_WITHOUT_GRUB=false
    declare -g MAIN_SETUP_DO_PARSE_DATABASE_FROM_CACHE=false
    declare -g MAIN_SETUP_DO_PARSE_DATABASE_FROM_FILE=false
    declare -g MAIN_SETUP_DO_PARSE_DATABASE_FROM_INTERNET=false
    declare -g MAIN_SETUP_DO_PARSE_DATABASE_FROM_XML=false
    declare -g MAIN_SETUP_HAS_ARG_PARSE_IOMMU=false
    declare -g MAIN_SETUP_HAS_ARG_PARSE_IOMMU_SELECT_ALL=false
    declare -g MAIN_SETUP_HAS_ARG_PARSE_IOMMU_SELECT_SOME=false
    declare -g MAIN_SETUP_DO_SKIP_ALL=false
  }

  function DoMainSetup
  {
    return 0
  }
# </functions>

# <code>
  DeclareParameters
  unset DeclareParameters
# </code