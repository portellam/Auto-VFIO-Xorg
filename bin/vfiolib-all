#!/bin/bash sh

#
# Filename:         vfiolib-all
# Description:      Effortlessly deploy a VFIO setup (PCI passthrough).
# Author(s):        Alex Portell <github.com/portellam>
# Maintainer(s):    Alex Portell <github.com/portellam>
#

# <remarks> Using </remarks>
# <code>
    source bashlib-all
    source vfiolib-extras
    source vfiolib-iommu
    source vfiolib-setup
    source vfiolib-usage
    source vfiolib-utils
# </code>

# <params>
    # <remarks> File templates. </remarks>
    declare -g arr_file_disclaimer=(
        "#### Generated by 'portellam/deploy-vfio-main'"
        "# WARNING: Any modifications to this file will be modified by 'deploy-vfio-main'"
        "#"
    )

    declare -g arr_file_template_vfio_disclaimer=(
        "${arr_file_disclaimer[@]}"
        "# Run lspci to view hardware information."
        "# You must run update-initramfs(8) to effect this change."
        "#"
    )

    # <remarks> Memory </remarks>
    declare -g str_max_mem=$( cat /proc/meminfo | grep MemTotal | cut -d ":" -f 2 | cut -d "k" -f 1 )
    declare -gi int_max_mem=${str_max_mem## }
# </params>